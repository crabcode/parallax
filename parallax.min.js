Parallax={_l:{},add:function({id:t,url:e,width:i,height:s,repeat:o=!1,x:n=0,y:l=0,z:r=100,sX:h=1,sY:c=1,opacity:a=100,scale:d=1,rotation:y=0,contrast:u=100,brightness:p=100,saturation:f=100,hue:_=0,blur:b=0,grayscale:m=0,invert:w=0,sepia:g=0}){let v=this._getScrollPosition();r=1-r/100;let x=document.createElement("div");x.id=t,x.className="parallax-layer",x.style.backgroundImage=`url(${e})`,x.style.position="absolute",x.style.top=l+v.top*r*c+"px",x.style.left=n+v.left*r*h+"px",x.style.zIndex=-1e3*r,x.style.width=i+"px",x.style.height=s+"px",x.style.backgroundRepeat=o?"repeat":"no-repeat",x.style.filter=`hue-rotate(${_}deg) saturate(${f}%) brightness(${p}%) contrast(${u}%) blur(${b}px) sepia(${g}%) grayscale(${m}%) invert(${w}%) opacity(${a}%)`,x.style.transform=`scale(${d}) rotate(${y}deg)`,x.style.WebkitFilter=x.style.filter,x.style.willChange = "transform, top, left",this._l[t]={div:x,url:e,width:i,height:s,repeat:o,x:n,y:l,z:r,sX:h,sY:c,opacity:a,scale:d,rotation:y,contrast:u,brightness:p,saturation:f,hue:_,blur:b,grayscale:m,invert:w,sepia:g},this.onAdd&&this.onAdd({layer:layer,scroll:v,ref:this})},destroy:function(){for(this._observer&&(this._observer.disconnect(),this._observer=null);this._c&&this._c.firstChild;)this._c.removeChild(this._c.firstChild);this._l={},window.removeEventListener("resize",this._onResize.bind(this)),window.removeEventListener("scroll",this._onScroll.bind(this)),this._c=null},init:function(t){let e=document.querySelector(t);if(!e)throw new Error(t+" not found.");e.style.width=document.documentElement.scrollWidth+"px",e.style.height=document.documentElement.scrollHeight+"px",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.overflow="hidden";for(let t of Object.keys(this._l))e.prepend(this._l[t].div);this._c=e,this._observer=new MutationObserver(this._onResize.bind(this)),this._observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1}),window.addEventListener("resize",this._onResize.bind(this)),window.addEventListener("scroll",this._onScroll.bind(this)),this.onInit&&this.onInit({container:t,scroll:scroll,ref:this})},_onResize:function(t){let e={width:this._c.style.width,height:this._c.style.height};this._c.style.width=document.documentElement.scrollWidth+"px",this._c.style.height=document.documentElement.scrollHeight+"px",this.onResize&&this.onResize({event:t,previous:e,newSize:{width:this._c.style.width,height:this._c.style.height},ref:this}),this._onScroll()},_onScroll:function(t){let e=this._getScrollPosition();for(let t of Object.keys(this._l)){let i=this._l[t];i.div.style.top=Math.round(i.y+e.top*i.z*i.sY)+"px",i.div.style.left=Math.round(i.x+e.left*i.z*i.sX)+"px"}this.onScroll&&this.onScroll({scroll:e,event:t,ref:this})},_getScrollPosition:function(){return{top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}}};