Parallax={_l:{},add:function({id:t,url:e,width:s,height:i,repeat:l=!1,speed:o=100,x:h=0,y:n=0,sX:r=1,sY:d=1,opacity:c=100,scale:y=1,rotation:a=0,contrast:f=100,brightness:p=100,saturation:u=100,hue:$=0,blur:g=0,grayscale:m=0,invert:b=0,sepia:v=0}){let x=this._gSP();o=1-o/100;let _=document.createElement("div");_.id=t,_.className="parallax-layer",_.style.backgroundImage=`url(${e})`,_.style.position="absolute",_.style.top=n+x.top*o*d+"px",_.style.left=h+x.left*o*r+"px",_.style.zIndex=-1e3*o,_.style.width=s+"px",_.style.height=i+"px",_.style.backgroundRepeat=l?"repeat":"no-repeat",_.style.filter=`hue-rotate(${$}deg) saturate(${u}%) brightness(${p}%) contrast(${f}%) blur(${g}px) sepia(${v}%) grayscale(${m}%) invert(${b}%) opacity(${c}%)`,_.style.transform=`scale(${y}) rotate(${a}deg)`,_.style.WebkitFilter=_.style.filter,_.style.willChange="transform, top, left",this._l[t]={div:_,url:e,width:s,height:i,repeat:l,speed:o,x:h,y:n,sX:r,sY:d,opacity:c,scale:y,rotation:a,contrast:f,brightness:p,saturation:u,hue:$,blur:g,grayscale:m,invert:b,sepia:v},this.onAdd&&this.onAdd({layer:this._l[t],scroll:x,ref:this})},destroy:function(){for(this._o&&(this._o.disconnect(),this._o=null);this._c&&this._c.firstChild;)this._c.removeChild(this._c.firstChild);this._l={},window.removeEventListener("resize",this._oR.bind(this)),window.removeEventListener("scroll",this._oS.bind(this)),this._c=null},init:function(t,e=!1){let s=document.querySelector(t);if(!s)throw Error(t+" not found.");for(let i of(s.style.width=document.documentElement.scrollWidth+"px",s.style.height=document.documentElement.scrollHeight+"px",s.style.position="absolute",s.style.top=0,s.style.left=0,s.style.overflow="hidden",Object.keys(this._l)))s.prepend(this._l[i].div);this._c=s,e&&(this._o=new MutationObserver(this._oR.bind(this)),this._o.observe(document.body,{childList:!0,subtree:!0,attributes:!1})),window.addEventListener("resize",this._oR.bind(this)),window.addEventListener("scroll",this._oS.bind(this)),this.onInit&&this.onInit({container:t,scroll,ref:this})},_oR:function(t){let e={width:this._c.style.width,height:this._c.style.height};this._c.style.width=document.documentElement.scrollWidth+"px",this._c.style.height=document.documentElement.scrollHeight+"px",this.onResize&&this.onResize({event:t,previous:e,newSize:{width:this._c.style.width,height:this._c.style.height},ref:this}),this._oS()},_oS:function(t){let e=this._gSP();for(let s of Object.keys(this._l)){let i=this._l[s];i.div.style.top=Math.round(i.y+e.top*i.speed*i.sY)+"px",i.div.style.left=Math.round(i.x+e.left*i.speed*i.sX)+"px"}this.onScroll&&this.onScroll({scroll:e,event:t,ref:this})},_gSP:function(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,e=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return{top:t,left:e}}};